jQuery.extend({highlight:function(e,i,t,n){if(3===e.nodeType){var a,r,l=e.data.match(i);if(l)return(a=document.createElement(t||"span")).className=n||"highlight",(r=e.splitText(l.index)).splitText(l[0].length),l=r.cloneNode(!0),a.appendChild(l),r.parentNode.replaceChild(a,r),1}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==t.toUpperCase()||e.className!==n))for(var h=0;h<e.childNodes.length;h++)h+=jQuery.highlight(e.childNodes[h],i,t,n);return 0}}),jQuery.fn.unhighlight=function(e){var i={className:"highlight",element:"span"};return jQuery.extend(i,e),this.find(i.element+"."+i.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,i){var t,n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};return jQuery.extend(n,i),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e,i){return""!=e}),0==(e=jQuery.map(e,function(e,i){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length?this:(i=n.caseSensitive?"":"i",e=(e=(e=(e=(e=(e="("+e.join("|")+")").replace(/(a|á)/gi,"[a|á]")).replace(/(e|é)/gi,"[e|é]")).replace(/(i|í)/gi,"[i|í]")).replace(/(o|ó)/gi,"[o|ó]")).replace(/(u|ú)/gi,"[u|ú]"),n.wordsOnly&&(e="\\b"+e+"\\b"),t=new RegExp(e,i),this.each(function(){jQuery.highlight(this,t,n.element,n.className)}))};
